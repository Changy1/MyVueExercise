<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    .movie-list, .movie-list ul {
        display: flex;
        justify-content: space-around;
        align-items: center;
    }
</style>
<body>
    <div id="app">
        {{message}}
        <movie-block :message = "message"></movie-block>
    </div>

    <template id="movie-block">
        <div class="movie-block">
            <header>
                <h1>电影列表 -- {{message}}</h1>               
            </header>       
            <hr/>
            <section class="content">
                <movie-list></movie-list>
            </section>
        </div>
    </template>

    <template id="movie-list">
        <div class="movie-list">
            <button></button>
            <ul>
                <!-- 可以在标签上直接传送数据，然后子元素使用props接受 -->
                <!-- 这里直接遍历movies然后把每次循环的的item都传递给子元素
                    子元素通过props接受，然后就可以直接使用这个数据了
                -->
                <movie-item :info = "item" v-for = "item in movies" :key = "item.id"></movie-item>
            </ul>
            <button>></button>
        </div>
    </template>

    <!-- 子元素使用数据的时候，是info.xxx去使用 -->
    <template id="movie-item">
        <li class="movie-item">
            <img :src="info.poster.origin + '?x-oss-process=image/resize,m_fixed,h_0,w_300'" alt="">
            <p>{{info.name}} <mark>{{info.grade}}</mark>  </p>
        </li>
    </template>
    
</body>
<script src="./base/vue.js"></script>

<script>
    //在vue的项目中，一般都只有一个实例也就是根实例，其他的部分都由组件来实现
    //也就是说实例中可能会包含大量的组件，而且组件直接会项目嵌套，形成父子组件
    //组件的嵌套只能形成父子关系, 将代表子组件的标签，放入父组件的模板中
    

    // 父组件传递数据给子组件的时候，直接在标签上传入，子组件需要利用props属性来接收
    
    Vue.component('movie-item', {
        template: '#movie-item',
        props: ['info']
    })
    Vue.component('movie-list', {
        template: '#movie-list',
        data () {
            return {
                movies: [
                            {
                                "id": 4439,
                                "name": "滴答屋",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/539c2a6964b1078c954a828afdb0841a.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/539c2a6964b1078c954a828afdb0841a.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "杰克·布莱克"
                                    },
                                    {
                                        "name": "凯特·布兰切特"
                                    },
                                    {
                                        "name": "欧文·瓦卡罗"
                                    },
                                    {
                                        "name": "凯尔·麦克拉克伦"
                                    },
                                    {
                                        "name": "芮妮·戈兹贝里"
                                    }
                                ],
                                "director": "伊莱·罗斯",
                                "category": "喜剧|奇幻|冒险",
                                "intro": "魔王来袭 开启冒险之旅",
                                "premiereAt": 1541001600000,
                                "grade": "5.5",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": "美国",
                                "runtime": 62,
                                "language": " 英语"
                            },
                            {
                                "id": 4424,
                                "name": "毒液：致命守护者",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/1781f676e488fb1bfe0cf6277e5bd78a.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/1781f676e488fb1bfe0cf6277e5bd78a.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "汤姆·哈迪"
                                    },
                                    {
                                        "name": "米歇尔·威廉姆斯"
                                    },
                                    {
                                        "name": "里兹·阿迈德"
                                    },
                                    {
                                        "name": "斯科特·黑兹"
                                    },
                                    {
                                        "name": "瑞德·斯科特"
                                    }
                                ],
                                "director": "鲁本·弗雷斯彻",
                                "category": "动作|科幻|惊悚",
                                "intro": "蜘蛛侠最强劲敌“毒液”强势来袭！",
                                "premiereAt": 1541088000000,
                                "grade": "8.4",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": "美国 ",
                                "runtime": 62,
                                "language": "英语"
                            },
                            {
                                "id": 4444,
                                "name": "胡桃夹子和四个王国",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/8808862cd8ca87b1ba98d846509209a5.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/8808862cd8ca87b1ba98d846509209a5.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "麦肯吉·弗依"
                                    },
                                    {
                                        "name": "摩根·弗里曼"
                                    },
                                    {
                                        "name": "凯拉·奈特莉"
                                    },
                                    {
                                        "name": "马修·麦克费登"
                                    }
                                ],
                                "director": "拉斯·霍尔斯道姆|乔·庄斯顿",
                                "category": "奇幻|冒险",
                                "intro": "穿越平行世界   解封奇幻国度",
                                "premiereAt": 1541088000000,
                                "grade": "8.0",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": "美国",
                                "runtime": 62,
                                "language": "英语"
                            },
                            {
                                "id": 4438,
                                "name": "流浪猫鲍勃",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/d4300bc9c2a60918649a49b534021a61.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/d4300bc9c2a60918649a49b534021a61.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "卢克·崔德威"
                                    },
                                    {
                                        "name": "猫鲍勃"
                                    },
                                    {
                                        "name": "露塔·格德米纳斯"
                                    },
                                    {
                                        "name": "琼安·弗洛加特"
                                    },
                                    {
                                        "name": "安东尼·海德"
                                    }
                                ],
                                "director": "罗杰·斯波蒂斯伍德",
                                "category": "剧情|喜剧|传记",
                                "intro": "猫主子治愈瘾君子铲屎官 ",
                                "premiereAt": 1541088000000,
                                "grade": "8.0",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": "英国",
                                "runtime": 62,
                                "language": "英语"
                            },
                            {
                                "id": 4422,
                                "name": "功夫联盟",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/0cd1bdb914983ea6da52d9798cc5589e.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/0cd1bdb914983ea6da52d9798cc5589e.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "赵文卓"
                                    },
                                    {
                                        "name": "安志杰"
                                    },
                                    {
                                        "name": "陈国坤"
                                    },
                                    {
                                        "name": "杜宇航"
                                    },
                                    {
                                        "name": "书亚信"
                                    }
                                ],
                                "director": "刘镇伟",
                                "category": "剧情|动作",
                                "intro": "问道四宗师",
                                "premiereAt": 1540483200000,
                                "grade": "8.0",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": "中国大陆",
                                "runtime": 62,
                                "language": "汉语普通话"
                            },
                            {
                                "id": 4446,
                                "name": "冰封侠：时空行者",
                                "poster": {
                                    "origin": "https://pic.maizuo.com/usr/movie/3796f1361579515d4fe2eff7b6b89c0c.jpg",
                                    "thumbnail": "https://pic.maizuo.com/usr/movie/3796f1361579515d4fe2eff7b6b89c0c.jpg?x-oss-process=image/resize,m_fixed,h_0,w_300"
                                },
                                "actors": [
                                    {
                                        "name": "甄子丹"
                                    },
                                    {
                                        "name": "黄圣依"
                                    },
                                    {
                                        "name": "王宝强"
                                    },
                                    {
                                        "name": "任达华"
                                    }
                                ],
                                "director": "叶伟民",
                                "category": "动作|奇幻",
                                "intro": "我欲成仙 何惧春秋",
                                "premiereAt": 1541088000000,
                                "grade": "8.0",
                                "item": {
                                    "name": "2D",
                                    "type": 1
                                },
                                "nation": " 中国大陆  香港",
                                "runtime": 62,
                                "language": "汉语普通话  粤语"
                            }
                        ]
            }
        }
    })
    Vue.component('movie-block', {
        template: '#movie-block',
        props: ['message']      //这里可以接受复原的message
    })


    new Vue({
        el:"#app",
        data: {
            message: 'hello'
        }
    })
   
    
    
</script>
</html>